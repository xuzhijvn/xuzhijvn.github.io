<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>指令重排 - Razon Yang</title><link rel="apple-touch-icon" href="https://razonyang.com/images/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="https://razonyang.com/images/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="https://razonyang.com/images/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="https://razonyang.com/images/favicons/manifest.json">
<link rel="icon" href="https://razonyang.com/images/favicons/favicon.ico">
<meta name="keywords" content="" />
<meta name="description" content="" /><meta itemprop="name" content="指令重排">
<meta itemprop="description" content="我们知道java在运行的时候有两个地方可能用到重排序，一个是编译器编译的的时候，一个是处理器运行的时候。
那么我们就应该问问为啥要用指令重排序呢？
编译期重排序有啥好处？
CPU计算的时候要访问值，如果常常利用到寄存器中已有的值就不用去内存读取了，比如说
int a = 1; int b = 1; a = a &#43; 1; b = b &#43;1 ; 就可能没有
int a = 1; a = a &#43; 1; int b = 1; b = b &#43;1 ; 性能好，因为后者的a或b可能在寄存器中了。
处理器为啥要重排序？
一条汇编指令的执行步骤：
  取指 IF 译码和取寄存器操作 ID 执行或者有效地址计算 EX 存储器访问 MEM 写回 WB   在CPU工作中汇编指令分多步完成，每一部涉及到的硬件（寄存器）可能不同，于是有了流水线技术来执行指令。
没有流水线技术前，如果同时两个指令过来执行 一个需要5秒，那么两个就需要10秒；有了流水线技术之后，可能就只要6秒。多个指令同时执行时性能显著提升。
 流水线技术是一种将指令分解为多步，并让不同指令的各步操作重叠，从而实现几条指令并行处理。
指令1 IF ID EX MEN WB
指令2 IF ID EX MEN WB"><meta itemprop="datePublished" content="2021-08-27T11:15:10+08:00" />
<meta itemprop="dateModified" content="2021-08-27T11:15:10+08:00" />
<meta itemprop="wordCount" content="544"><meta itemprop="image" content="https://razonyang.com/images/center.png">
<meta itemprop="keywords" content="CS," /><meta property="og:title" content="指令重排" />
<meta property="og:description" content="我们知道java在运行的时候有两个地方可能用到重排序，一个是编译器编译的的时候，一个是处理器运行的时候。
那么我们就应该问问为啥要用指令重排序呢？
编译期重排序有啥好处？
CPU计算的时候要访问值，如果常常利用到寄存器中已有的值就不用去内存读取了，比如说
int a = 1; int b = 1; a = a &#43; 1; b = b &#43;1 ; 就可能没有
int a = 1; a = a &#43; 1; int b = 1; b = b &#43;1 ; 性能好，因为后者的a或b可能在寄存器中了。
处理器为啥要重排序？
一条汇编指令的执行步骤：
  取指 IF 译码和取寄存器操作 ID 执行或者有效地址计算 EX 存储器访问 MEM 写回 WB   在CPU工作中汇编指令分多步完成，每一部涉及到的硬件（寄存器）可能不同，于是有了流水线技术来执行指令。
没有流水线技术前，如果同时两个指令过来执行 一个需要5秒，那么两个就需要10秒；有了流水线技术之后，可能就只要6秒。多个指令同时执行时性能显著提升。
 流水线技术是一种将指令分解为多步，并让不同指令的各步操作重叠，从而实现几条指令并行处理。
指令1 IF ID EX MEN WB
指令2 IF ID EX MEN WB" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/%E6%8C%87%E4%BB%A4%E9%87%8D%E6%8E%92/" /><meta property="og:image" content="https://razonyang.com/images/center.png" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-27T11:15:10+08:00" />
<meta property="article:modified_time" content="2021-08-27T11:15:10+08:00" />
<meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/leetcode/300.-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/" /><meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/nginx/400-bad-request/" /><meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/5%E7%A7%8Dio%E6%A8%A1%E5%9E%8B/" /><meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/api%E6%8E%A5%E5%8F%A3%E5%AE%89%E5%85%A8%E8%AE%BE%E8%AE%A1/" /><meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/java/aqs/" /><meta property="og:see_also" content="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/spring/async/" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://razonyang.com/images/center.png"/>

<meta name="twitter:title" content="指令重排"/>
<meta name="twitter:description" content="我们知道java在运行的时候有两个地方可能用到重排序，一个是编译器编译的的时候，一个是处理器运行的时候。
那么我们就应该问问为啥要用指令重排序呢？
编译期重排序有啥好处？
CPU计算的时候要访问值，如果常常利用到寄存器中已有的值就不用去内存读取了，比如说
int a = 1; int b = 1; a = a &#43; 1; b = b &#43;1 ; 就可能没有
int a = 1; a = a &#43; 1; int b = 1; b = b &#43;1 ; 性能好，因为后者的a或b可能在寄存器中了。
处理器为啥要重排序？
一条汇编指令的执行步骤：
  取指 IF 译码和取寄存器操作 ID 执行或者有效地址计算 EX 存储器访问 MEM 写回 WB   在CPU工作中汇编指令分多步完成，每一部涉及到的硬件（寄存器）可能不同，于是有了流水线技术来执行指令。
没有流水线技术前，如果同时两个指令过来执行 一个需要5秒，那么两个就需要10秒；有了流水线技术之后，可能就只要6秒。多个指令同时执行时性能显著提升。
 流水线技术是一种将指令分解为多步，并让不同指令的各步操作重叠，从而实现几条指令并行处理。
指令1 IF ID EX MEN WB
指令2 IF ID EX MEN WB"/>
<meta name="twitter:site" content="@razonyang"/>
<meta data-name="palette" content="indigo"><link rel=stylesheet href="https://razonyang.com/css/bundle.min.120cd278725330bacf892c23f75f625397123aac51c2ea0e5c4a34c61e96738d.css" integrity="sha256-EgzSeHJTMLrPiSwj919iU5cSOqxRwuoOXEo0xh6Wc40=" crossorigin="anonymous"><script src="https://razonyang.com/js/bundle.min.e32615bc744413570374d5b28e8c02ec03c7b28c31485b6fcc5b6174a08766d9.js" integrity="sha256-4yYVvHREE1cDdNWyjowC7APHsowxSFtvzFthdKCHZtk=" crossorigin="anonymous"></script>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-97403777-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?1748e454242a1146387e079e3bb3a92a";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
  })();
</script><script data-ad-client="ca-pub-7827859788508375" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script></head><body><header><nav class="navbar navbar-expand-xl fixed-top">
  <div class="container">
    <a class="navbar-brand" href="https://razonyang.com/zh-cn/">
      <img class="logo" alt="Logo" src="https://razonyang.com/images/logo.webp" loading="lazy">RAZON YANG</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-1 mb-2 mb-lg-0"><form class="search-bar d-flex ms-1" action="https://razonyang.com/zh-cn/search">
  <div class="input-group input-group-sm">
    <button class="btn btn-search disabled position-absolute left-0" type="submit"><i class="fas fa-fw fa-search"></i></button>
    <input class="form-control rounded-pill" id="searchQuery" name="q" type="search" aria-label="Search">
  </div>
</form></ul><ul class="navbar-nav me-1 mb-2 mb-lg-0 me-1 ms-auto"><li class="nav-item">
          <a class="nav-link" href="https://razonyang.com/zh-cn/archives/">
            <i class="fas fa-fw fa-file-archive"></i>归档
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdown-categories" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-folder"></i>分类
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown-categories"><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/categories/programing">
                <i class="fas fa-fw fa-code"></i>Programing
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/categories/linux">
                <i class="fab fa-fw fa-linux"></i>Linux
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/categories/server">
                <i class="fas fa-fw fa-server"></i>Server
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/categories">
                <i class="fas fa-fw fa-folder"></i>所有分类
              </a>
            </li></ul>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdown-tags" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-fw fa-tags"></i>标签
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown-tags"><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/php">
                <i class="fab fa-fw fa-php"></i>PHP
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/go">
                <i class="fab fa-fw fa-google"></i>Go
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/mysql">
                <i class="fas fa-fw fa-database"></i>MySQL
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/html">
                <i class="fab fa-fw fa-html5"></i>HTML
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/mysql">
                <i class="fab fa-fw fa-js"></i>JavaScript
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags/css">
                <i class="fab fa-fw fa-css3"></i>CSS
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://razonyang.com/zh-cn/tags">
                <i class="fas fa-fw fa-tags"></i>所有标签
              </a>
            </li></ul>
        </li><li class="nav-item">
          <a class="nav-link" href="https://razonyang.com/zh-cn/series">
            <i class="fas fa-fw fa-columns"></i>专栏
          </a>
        </li><li class="nav-item dropdown">
          <a class="nav-link" id="navbarDropdown-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            项目
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown-projects"><li>
              <a class="dropdown-item"
                href="https://clevergo.tech/" target="_blank">
                CleverGo
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://gopkgs.net/" target="_blank">
                GOPKGS
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://github.com/razonyang/hugo-theme-bootstrap" target="_blank">
                Hugo Bootstrap 主题
              </a>
            </li><li>
              <a class="dropdown-item"
                href="https://admin.yii2.razonyang.com/" target="_blank">
                Yii 2 管理后台
              </a>
            </li></ul>
        </li><li class="nav-item dropdown">
  <a class="nav-link" href="#" id="languageDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <i class="fas fa-fw fa-language"></i> 简体中文
  </a>
  <ul class="dropdown-menu" aria-labelledby="languageDropdown"><li><a class="dropdown-item" href="https://razonyang.com/zh-tw/">繁體中文</a></li><li><a class="dropdown-item" href="https://razonyang.com/en/">English</a></li></ul>
</li><li class="nav-item">
  <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasSettings" role="button"
    aria-controls="offcanvasSettings">
    <i class="fas fa-fw fa-sliders-h"></i> 设置
  </a>
</li>

<div class="offcanvas offcanvas-end surface h-100" tabindex="-1" id="offcanvasSettings"
  aria-labelledby="offcanvasSettingsLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" w id="offcanvasSettingsLabel"><i class="fas fa-fw fa-sliders-h"></i> 设置</h5>
    <a role="button" data-bs-dismiss="offcanvas" aria-label="Close">
      <span class="fas fa-2x fa-fw fa-times"></span>
    </a>
  </div>
  <div class="offcanvas-body"><section class="setting">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-adjust"></i> 模式</label>
    </div>
    <div class="col-auto ms-auto">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="modeSwitcher">
      </div>
    </div>
  </form>
</section>
<section class="setting palettes">
  <form class="row">
    <div class="col-auto">
      <label><i class="fas fa-fw fa-palette"></i> 配色</label>
    </div>
    <div class="col-auto ms-auto">
      <span id="btnPalette" class="btn btn-sm"><i class="fas fa-eye-dropper"></i></span>
    </div>
  </form>
  <div class="container mt-2 visually-hidden" id="palettePicker">
    <div class="btn-group"><button type="button" id="palette-blue" title="蓝色" 
          class="btn btn-sm palette bg-blue d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-blue-gray" title="蓝灰色" 
          class="btn btn-sm palette bg-blue-gray d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-brown" title="棕色" 
          class="btn btn-sm palette bg-brown d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-cyan" title="青色" 
          class="btn btn-sm palette bg-cyan d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-green" title="绿色" 
          class="btn btn-sm palette bg-green d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-indigo" title="靛青色" 
          class="btn btn-sm palette bg-indigo d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-orange" title="橙色" 
          class="btn btn-sm palette bg-orange d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-pink" title="粉色" 
          class="btn btn-sm palette bg-pink d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-purple" title="紫色" 
          class="btn btn-sm palette bg-purple d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-red" title="红色" 
          class="btn btn-sm palette bg-red d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-teal" title="蓝绿色" 
          class="btn btn-sm palette bg-teal d-flex align-items-center justify-content-center">
        </button><button type="button" id="palette-yellow" title="黄色" 
          class="btn btn-sm palette bg-yellow d-flex align-items-center justify-content-center">
        </button></button>
    </div>
  </div>
</section></div>
</div></ul>
    </div>
  </div>
</nav>
</header>
<main role="main" class="container">
      <div class="row content">
<div class="col-lg-8">
  <div class="container"><nav class="row" aria-label="breadcrumb">
  <ol class="breadcrumb surface"><li class="breadcrumb-item"><a href="https://razonyang.com/zh-cn/">主页</a></li><li class="breadcrumb-item"><a href="https://razonyang.com/zh-cn/posts/">文章</a></li><li class="breadcrumb-item active">指令重排</li></ol>
</nav><article class="post row surface"><div class="post-panel-wrapper">
  <div class="post-panel d-flex flex-column">
    <a id="sidebarToggler" class="action d-none d-lg-block" role="button">
  <i class="fas fa-fw fa-expand-alt fa-rotate-45"></i>
</a>
  
    

    
    
    <a id="btnTOC" class="fas fa-fw fa-list-alt" data-bs-toggle="offcanvas" href="#offcanvasTOC" aria-controls="offcanvasTOC" role="button">
</a>
  </div>
</div>
<h1 class="post-title my-3">指令重排
</h1><div class="post-meta mb-3">
  <span class="post-date me-2">
    <i class="fas fa-fw fa-calendar-alt"></i>2021-08-27
  </span>
  <span class="post-reading-time me-2">
    <i class="fas fa-fw fa-coffee"></i>3 分钟阅读
  </span><a href="https://razonyang.com/zh-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="post-taxonomy">#计算机基础</a><a href="https://razonyang.com/zh-cn/series/manual/" class="post-taxonomy">#Manual</a><a href="https://razonyang.com/zh-cn/tags/cs/" class="post-taxonomy">#CS</a></div>
<div class="post-share mb-3"><div class="addthis_inline_share_toolbox"></div></div><div class="offcanvas offcanvas-end surface" tabindex="-1" id="offcanvasTOC" aria-labelledby="offcanvasTOCLabel">
  <div class="offcanvas-header">
    <h5 class="offcanvas-title" id="offcanvasTOCLabel">目录</h5>
    <a role="button" data-bs-dismiss="offcanvas" aria-label="Close">
      <span class="fas fa-2x fa-fw fa-times"></span>
    </a>
  </div>
  <div class="offcanvas-body">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#参考">参考</a></li>
  </ul>
</nav>
  </div>
</div><div class="post-content mb-3"><p>我们知道java在运行的时候有两个地方可能用到重排序，一个是<code>编译器编译</code>的的时候，一个是<code>处理器运行</code>的时候。</p>
<p>那么我们就应该问问为啥要用指令重排序呢？</p>
<p><strong>编译期重排序有啥好处？</strong></p>
<p>CPU计算的时候要访问值，如果常常利用到寄存器中已有的值就不用去内存读取了，比如说</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
a <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span>
b <span style="color:#f92672">=</span> b <span style="color:#f92672">+</span>1 <span style="color:#f92672">;</span>
</code></pre></div><p>就可能没有</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">int</span> a <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
a <span style="color:#f92672">=</span> a <span style="color:#f92672">+</span> 1<span style="color:#f92672">;</span>
<span style="color:#66d9ef">int</span> b <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span>
b <span style="color:#f92672">=</span> b <span style="color:#f92672">+</span>1 <span style="color:#f92672">;</span>
</code></pre></div><p>性能好，因为后者的a或b可能在寄存器中了。</p>
<p><strong>处理器为啥要重排序？</strong></p>
<p>一条汇编指令的执行步骤：</p>
<blockquote>
<ul>
<li>取指 IF</li>
<li>译码和取寄存器操作 ID</li>
<li>执行或者有效地址计算 EX</li>
<li>存储器访问 MEM</li>
<li>写回 WB</li>
</ul>
</blockquote>
<p>在CPU工作中汇编指令分多步完成，每一部涉及到的硬件（寄存器）可能不同，于是有了流水线技术来执行指令。</p>
<p>没有流水线技术前，如果同时两个指令过来执行 一个需要5秒，那么两个就需要10秒；有了流水线技术之后，可能就只要6秒。多个指令同时执行时性能显著提升。</p>
<blockquote>
<p>流水线技术是一种将指令分解为多步，并让不同指令的各步操作重叠，从而实现几条指令并行处理。</p>
<p>指令1  IF  ID  EX MEN   WB</p>
<p>指令2      IF  ID  EX     MEN   WB</p>
<p>指令的每一步都由<strong>不同的硬件完成</strong>，假设每一步耗时1ms,执行完一条指令需耗时5ms,</p>
<p>每条指令都按顺序执行，那两条指令则需10ms。</p>
<p>但是通过流水线在指令1刚执行完IF，执行IF的硬件立马就开始执行指令2的IF，这样指令2只需要等1ms,两个指令执行完只需要6ms,效率是不是提升巨大！</p>
</blockquote>
<p>这个和指令重排有啥关系？</p>
<p>流水线技术并不是说多个汇编指令都能并行执行，还是需要等他其他指令执行完才可以执行（比如<code>ADD</code>指令需要等待<code>LW</code>指令读取寄存器数据完成），那么在这个等待过程中，我们可以让和这个指令不相干的后面的指令先执行（比如另外一个表达式的<code>LW</code>指令），这就是指令重排。</p>
<p>先记住几个指令：</p>
<blockquote>
<p>LW(加载数据到寄存器的指令)</p>
<p>ADD(两个定点寄存器的内容相加)</p>
<p>SUB(相减)</p>
<p>SW(把数据从寄存器存储到存储器)</p>
</blockquote>
<p>现在来看一下代码 A=B+C 是怎么执行的</p>
<pre><code class="language-assembly" data-lang="assembly">现有R1,R2,R3三个寄存器,

LW R1,B    IF  ID  EX MEN WB（加载B到R1中）

LW R2,C       IF  ID  EX  MEN WB（加载C到R2中）

ADD R3,R2,R1      IF  ID    ×    EX MEN    WB（R1,R2相加放到R3）

SW A,R3              IF   ID   x   EX     MEN   WB（把R3 的值保存到变量A）

在ADD指令执行中有个x，表示中断、停顿，ADD为什么要在这里停顿一下呢？因为这时C还没加载到R2中，只能等待，而这个等待使得后边的所有指令都会停顿一下。
</code></pre><p>这个停顿可以避免吗？</p>
<p>当然是可以的，通过指令重排就可以实现，再看一下下面的例子：</p>
<p>要执行</p>
<p>A=B+C;</p>
<p>D=E-F;</p>
<pre><code class="language-assembly" data-lang="assembly">通过将D=E-F执行的指令顺序提前，从而消除因等待加载完毕的时间。

LW Rb,B    IF  ID  EX MEN WB

LW Rc,C       IF  ID  EX MEN   WB

LW Re,E          IF  ID  EX MEN   WB

ADD Ra,Rb,Rc          IF  ID  EX MEN   WB

LW Rf,F                  IF  ID  EX MEN    WB

SW A,Ra                     IF  ID  EX MEN    WB

SUB Rd,Re,Rf                    IF  ID  EX    MEN   WB

SW D,Rd                            IF  ID    EX MEN   WB
</code></pre><p>与其让第一个表达式的<code>ADD</code>指令阻塞等待，还不如让第二个表达式的<code>LW</code>指令先执行，注意两个表达式的LW指令操作的是不同的寄存器，所以可以并行执行。</p>
<p>我们写一段代码来试试：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> <span style="color:#960050;background-color:#1e0010">*****;</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * reorder
</span><span style="color:#75715e"> * @author Mageek Chiu
</span><span style="color:#75715e"> * @date 2018/5/25 0025:12:49
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReOrder</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> value <span style="color:#f92672">;</span>

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">ReOrder</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">...</span> args<span style="color:#f92672">){</span>
        ReOrder reOrder <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReOrder<span style="color:#f92672">(</span>111<span style="color:#f92672">);</span>
        ReOrder reOrder1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReOrder<span style="color:#f92672">(</span>222<span style="color:#f92672">);</span>
        ReOrder reOrder2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ReOrder<span style="color:#f92672">(</span>333<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>add1<span style="color:#f92672">(</span>reOrder<span style="color:#f92672">,</span>reOrder1<span style="color:#f92672">,</span>reOrder2<span style="color:#f92672">));</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">add1</span><span style="color:#f92672">(</span>ReOrder reOrder<span style="color:#f92672">,</span>ReOrder reOrder1<span style="color:#f92672">,</span>ReOrder reOrder2<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>

        result <span style="color:#f92672">+=</span> reOrder<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder1<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder2<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span><span style="color:#75715e">//***
</span><span style="color:#75715e"></span>
        result <span style="color:#f92672">+=</span> reOrder<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder1<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder2<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>

        result <span style="color:#f92672">+=</span> reOrder<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder1<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>
        result <span style="color:#f92672">+=</span> reOrder2<span style="color:#f92672">.</span><span style="color:#a6e22e">value</span><span style="color:#f92672">;</span>

        <span style="color:#66d9ef">return</span> result<span style="color:#f92672">;</span>

    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><p>运行结果中：</p>
<pre><code class="language-assembly" data-lang="assembly"> # {method} {0x000000001c402c80} 'add1' '(*****/ReOrder;*****/ReOrder;*****/ReOrder;)I' in '*****/ReOrder'
  # parm0:    rdx:rdx   = '*****/ReOrder'
  # parm1:    r8:r8     = '*****/ReOrder'
  # parm2:    r9:r9     = '*****/ReOrder'
  #           [sp+0x20]  (sp of caller)
  0x00000000032a86c0: mov     dword ptr [rsp+0ffffffffffffa000h],eax
  0x00000000032a86c7: push    rbp
  0x00000000032a86c8: sub     rsp,10h           ;*synchronization entry
                                                ; - *****.ReOrder::add1@-1 (line 24)

  0x00000000032a86cc: mov     r11d,dword ptr [rdx+0ch]
                                                ;*getfield value
                                                ; - *****.ReOrder::add1@4 (line 26)
                                                ; implicit exception: dispatches to 0x00000000032a86ff
  0x00000000032a86d0: mov     r10d,dword ptr [r8+0ch]  ;*getfield value
                                                ; - *****.ReOrder::add1@11 (line 27)
                                                ; implicit exception: dispatches to 0x00000000032a870d
  0x00000000032a86d4: mov     r9d,dword ptr [r9+0ch]  ;*getfield value
                                                ; - *****.ReOrder::add1@18 (line 28)
                                                ; implicit exception: dispatches to 0x00000000032a8719
  0x00000000032a86d8: mov     eax,r11d
  0x00000000032a86db: add     eax,r10d
  0x00000000032a86de: add     eax,r9d
  0x00000000032a86e1: add     eax,r11d
  0x00000000032a86e4: add     eax,r10d
  0x00000000032a86e7: add     eax,r9d
  0x00000000032a86ea: add     eax,r11d
  0x00000000032a86ed: add     eax,r10d
  0x00000000032a86f0: add     eax,r9d           ;*iadd
</code></pre><p>也就是先用<code>mov</code>把方法里面所需要的三个<code>value</code>加载了，再统一用<strong>add</strong>进行加法运算。</p>
<p>现在我们把<code>//***</code>哪一行注释掉，运行结果如下：</p>
<pre><code class="language-assembly" data-lang="assembly">[Constants]
  # {method} {0x000000001c052c78} 'add1' '(*****/ReOrder;*****/ReOrder;*****/ReOrder;)I' in '*****/ReOrder'
  # parm0:    rdx:rdx   = '*****/ReOrder'
  # parm1:    r8:r8     = '*****/ReOrder'
  # parm2:    r9:r9     = '*****/ReOrder'
  #           [sp+0x20]  (sp of caller)
  0x0000000002f47d40: mov     dword ptr [rsp+0ffffffffffffa000h],eax
  0x0000000002f47d47: push    rbp
  0x0000000002f47d48: sub     rsp,10h           ;*synchronization entry
                                                ; - *****.ReOrder::add1@-1 (line 24)

  0x0000000002f47d4c: mov     r11d,dword ptr [rdx+0ch]
                                                ;*getfield value
                                                ; - *****r.ReOrder::add1@4 (line 26)
                                                ; implicit exception: dispatches to 0x0000000002f47d7c
  0x0000000002f47d50: mov     r10d,dword ptr [r8+0ch]  ;*getfield value
                                                ; - *****.ReOrder::add1@11 (line 27)
                                                ; implicit exception: dispatches to 0x0000000002f47d89
  0x0000000002f47d54: mov     r9d,dword ptr [r9+0ch]  ;*getfield value
                                                ; - *****::add1@32 (line 32)
                                                ; implicit exception: dispatches to 0x0000000002f47d95
  0x0000000002f47d58: mov     eax,r11d
  0x0000000002f47d5b: add     eax,r10d
  0x0000000002f47d5e: add     eax,r11d
  0x0000000002f47d61: add     eax,r10d
  0x0000000002f47d64: add     eax,r9d
  0x0000000002f47d67: add     eax,r11d
  0x0000000002f47d6a: add     eax,r10d
  0x0000000002f47d6d: add     eax,r9d           ;*iadd
</code></pre><p>依然是先把所有<strong>value</strong>都用<strong>mov</strong>指令加载后再进行加法运算。 总结起来就是不管代码里这个值使用顺序多靠后，都先用<strong>mov</strong>加载后再使用<strong>add</strong>对这个值进行运算。</p>
<p>注意，上面的运行参数为<code>-Xcomp -XX:+UnlockDiagnosticVMOptions -XX:CompileCommand=print,*ReOrder.add1 -XX:+PrintCompilation</code>。 <code>Xcomp</code> 含义是使用编译模式而不是解释模式， <code>-XX:CompileCommand=print,*ReOrder.add1</code>表示只打印这个方法，<code>-XX:+PrintCompilation</code>表示打印方法名称。 需要插件<strong>hsdis</strong>，编译好后放在<code>jdk的jre的bin的server</code>中就好，具体环境搭建可以参阅<a href="https://link.juejin.cn?target=https%3A%2F%2Fstackoverflow.com%2Fquestions%2F1503479%2Fhow-to-see-jit-compiled-code-in-jvm" target="_blank">这里</a>
</p>
<h2 id="参考">参考</h2>
<p><a href="https://www.ruanyifeng.com/blog/2018/01/assembly-language-primer.html" target="_blank">汇编语言入门教程</a>
</p>
<p><a href="https://juejin.cn/post/6844903613454630919" target="_blank">为什么要指令重排序？</a>
</p>
<p><a href="https://blog.csdn.net/chuixue24/article/details/112001210" target="_blank">编译器为什么要做指令重排呢</a>
</p>
<p><a href="https://blog.csdn.net/fuhanghang/article/details/83421254" target="_blank">计算机指令执行过程详解</a>
</p>
<p><a href="https://tech.meituan.com/2014/09/23/java-memory-reordering.html" target="_blank">Java内存访问重排序的研究</a>
</p>
</div><hr /><div class="post-navs d-flex mb-3 justify-content-between">
  <div class="post-nav w-50"><div class="prev-post btn btn-sm">
      <a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E5%88%86%E5%B8%83%E5%BC%8F/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E7%BC%93%E5%AD%98%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7/">数据库和缓存双写一致性
</a>
    </div></div>
  <div class="post-nav flex-row-reverse"><div class="next-post btn btn-sm">
      <a href="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/mysql/%E6%82%B2%E8%A7%82%E9%94%81%E5%92%8C%E4%B9%90%E8%A7%82%E9%94%81/">悲观锁和乐观锁
</a>
    </div></div>
</div><section class="related-posts">
    <h3>相关文章</h3>
    <ul class="related-posts"><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/5%E7%A7%8Dio%E6%A8%A1%E5%9E%8B/">5种IO模型
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/cpu%E7%BC%93%E5%AD%98%E8%A1%8C/">CPU缓存行
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/caffeine/">Caffeine
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/lru%E5%92%8Clfu/">LRU和LFU
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/oauth2/">OAuth2
</a></li></ul>
  </section></article><div class="post-comments surface row"><script src="https://utteranc.es/client.js"
  repo="razonyang/blog"
  issue-term="pathname"
  label=""
  theme="github-dark"
  crossorigin="anonymous"
  async>
</script></div></div>
</div><aside class="col-lg-4 sidebar d-flex">
  <div class="container"><section class="ad row surface justify-content-center">
  <ins class="adsbygoogle sidebar-ad"
    data-ad-client="ca-pub-7827859788508375"
    data-ad-slot="5059539159"
    data-ad-format="auto"
    data-full-width-responsive="false"></ins>
</section>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<section class="profile surface row">
  <div class="col-xl-6 d-flex align-items-center justify-content-center">
    <img class="profile-avatar img-fluid" src="https://razonyang.com/images/profile.webp" alt="Razon Yang" loading="lazy">
  </div>
  <div class="col-xl-6">
    <h5 class="profile-name my-2">Razon Yang</h5><div class="profile-bio mb-2">Gopher, PHPer, Full Stack Engineer.</div><div class="profile-company mb-2"><i class="fas fa-fw fa-building"></i>Null</div><div class="profile-location mb-2"><i class="fas fa-fw fa-map-marker-alt"></i>China</div><div class="profile-about mb-2"><i class="fas fa-fw fa-info-circle"></i><a href="https://razonyang.com/zh-cn/about/">关于</a></div></div>
</section><section class="recent-posts row surface">
  <h4>最近文章</h4>
  <ul><li><a href="https://razonyang.com/zh-cn/posts/k8s/1.%E5%9F%BA%E7%A1%80/1.1-%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5/1.1-%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5/">1.1 一些概念
</a></li><li><a href="https://razonyang.com/zh-cn/posts/k8s/1.%E5%9F%BA%E7%A1%80/1.2-k8s%E5%9F%BA%E7%A1%80/1.2.1-k8s%E5%8A%9F%E8%83%BD/k8s%E5%8A%9F%E8%83%BD/">1.2.1 k8s功能
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/leetcode/300.-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97/">300. 最长递增子序列
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/nginx/400-bad-request/">400 Bad Request
</a></li><li><a href="https://razonyang.com/zh-cn/posts/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/%E6%8B%BE%E9%81%97/5%E7%A7%8Dio%E6%A8%A1%E5%9E%8B/">5种IO模型
</a></li></ul>
</section><section class="taxonomy-categories row surface">
      <h4>
        <a href="https://razonyang.com/zh-cn/categories">分类</a>
      </h4>
      <div><a href="https://razonyang.com/zh-cn/categories/%E7%BC%96%E7%A8%8B%E6%80%9D%E6%83%B3/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="编程思想">
          编程思想 <span class="badge rounded-pill">91</span>
        </a><a href="https://razonyang.com/zh-cn/categories/%E5%85%B6%E4%BB%96/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="其他">
          其他 <span class="badge rounded-pill">21</span>
        </a><a href="https://razonyang.com/zh-cn/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="计算机基础">
          计算机基础 <span class="badge rounded-pill">20</span>
        </a><a href="https://razonyang.com/zh-cn/categories/ai/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="AI">
          AI <span class="badge rounded-pill">3</span>
        </a><a href="https://razonyang.com/zh-cn/categories/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="架构设计">
          架构设计 <span class="badge rounded-pill">3</span>
        </a><a href="https://razonyang.com/zh-cn/categories/%E4%BA%91%E5%8E%9F%E7%94%9F/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="云原生">
          云原生 <span class="badge rounded-pill">2</span>
        </a><a href="https://razonyang.com/zh-cn/categories/%E5%8C%BA%E5%9D%97%E9%93%BE/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="区块链">
          区块链 <span class="badge rounded-pill">2</span>
        </a></div>
    </section><section class="taxonomy-series row surface">
      <h4>
        <a href="https://razonyang.com/zh-cn/series">专栏</a>
      </h4>
      <div><a href="https://razonyang.com/zh-cn/series/manual/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="Manual">
          Manual <span class="badge rounded-pill">140</span>
        </a><a href="https://razonyang.com/zh-cn/series/k8s/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="k8s">
          k8s <span class="badge rounded-pill">2</span>
        </a></div>
    </section><section class="taxonomy-tags row surface">
      <h4>
        <a href="https://razonyang.com/zh-cn/tags">标签</a>
      </h4>
      <div><a href="https://razonyang.com/zh-cn/tags/java/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="Java">
          Java <span class="badge rounded-pill">27</span>
        </a><a href="https://razonyang.com/zh-cn/tags/other/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="Other">
          Other <span class="badge rounded-pill">24</span>
        </a><a href="https://razonyang.com/zh-cn/tags/cs/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="CS">
          CS <span class="badge rounded-pill">20</span>
        </a><a href="https://razonyang.com/zh-cn/tags/spring/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="spring">
          spring <span class="badge rounded-pill">11</span>
        </a><a href="https://razonyang.com/zh-cn/tags/redis/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="redis">
          redis <span class="badge rounded-pill">9</span>
        </a><a href="https://razonyang.com/zh-cn/tags/mysql/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="MySQL">
          MySQL <span class="badge rounded-pill">8</span>
        </a><a href="https://razonyang.com/zh-cn/tags/%E5%89%91%E6%8C%87offer/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="剑指offer">
          剑指offer <span class="badge rounded-pill">8</span>
        </a><a href="https://razonyang.com/zh-cn/tags/zk/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="ZK">
          ZK <span class="badge rounded-pill">6</span>
        </a><a href="https://razonyang.com/zh-cn/tags/nginx/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="nginx">
          nginx <span class="badge rounded-pill">4</span>
        </a><a href="https://razonyang.com/zh-cn/tags/ai/" class="post-taxonomy rounded btn btn-sm me-2 mb-2" title="AI">
          AI <span class="badge rounded-pill">3</span>
        </a></div>
    </section><section class="ad ad-sticky row surface justify-content-center">
  <ins class="adsbygoogle sidebar-ad"
    data-ad-client="ca-pub-7827859788508375"
    data-ad-slot="5059539159"
    data-ad-format="auto"
    data-full-width-responsive="false"></ins>
</section>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</div>
</aside>
</div>
    </main><footer class="footer mt-auto py-3 text-center container"><nav class="social-links nav my-2 justify-content-center"><li class="nav-item">
    <a class="nav-link social-link" href="mailto:razonyang@gmail.com" title="Email">
      <i class="fas fa-fw fa-2x fa-envelope"></i>
    </a>
  </li><li class="nav-item">
      <a class="nav-link social-link" target="_blank" href="https://github.com/razonyang" title="GitHub">
        <i class="fa-fw fa-2x fab fa-github"></i>
      </a>
    </li><li class="nav-item">
      <a class="nav-link social-link" target="_blank" href="https://gitlab.com/razonyang" title="GitLab">
        <i class="fa-fw fa-2x fab fa-gitlab"></i>
      </a>
    </li><li class="nav-item">
      <a class="nav-link social-link" target="_blank" href="http://wpa.qq.com/msgrd?v=3&amp;uin=919680596&amp;site=qq&amp;menu=yes" title="QQ">
        <i class="fa-fw fa-2x fab fa-qq"></i>
      </a>
    </li><li class="nav-item">
      <a class="nav-link social-link" target="_blank" href="https://t.me/razonyang" title="Telegram">
        <i class="fa-fw fa-2x fab fa-telegram-plane"></i>
      </a>
    </li><li class="nav-item">
      <a class="nav-link social-link" target="_blank" href="https://twitter.com/razonyang" title="Twitter">
        <i class="fa-fw fa-2x fab fa-twitter"></i>
      </a>
    </li></nav>
<div class="copyright mb-2">
  Copyright © 2016-2021 Razon Yang. All Rights Reserved.
</div>
<div class="powered-by mb-2">
  Powered by <a href="https://gohugo.io" target="_blank">Hugo</a> and the <a href="https://github.com/razonyang/hugo-theme-bootstrap" target="_blank">Bootstrap</a> theme.
</div><div class="mb-3">
  <img src = 'https://razonyang.com/icons/gongan.png' class = ' transparent'>
  <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44040302000341">粤公网安备44040302000341号</a>
  |
  <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备20043980号</a>
</div>
</footer>
<a id="btnScrollToTop" class="btn-scroll-to-top">
  <i class="fas fa-fw fa-chevron-circle-up fa-2x"></i>
</a>
<script async src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5fb19b4fde14befc"></script></body>
</html>
